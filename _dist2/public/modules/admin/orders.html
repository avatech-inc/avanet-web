<div ng-controller="OrdersController" ng-init="init()">
	<div class="row">
		<div class="col-xs-10">

			<h3 style="float:left;">Preorders</h3>


			<a class="btn btn-default" ng-click="download()" style="float:right;margin-top:18px;"><i class="fa fa-download"></i>&nbsp;&nbsp;<span ng-show="!downloading">Export CSV</span>
			</a>


			<div style="clear:both;"></div>
		</div>
	</div>
	<!--<div class="row">
		<div class="col-xs-10">



			<div style="float:right;text-align:right;padding-right:10px;">
				<span style="font-size:20px">Total devices:</span>
				<div style="color:green;font-size:30px;font-weight:bold;display:inline-block;margin-left:8px;">{{ totalDevices }}</div>

			</div>

		</div>
	</div>-->

	<div style="font-size:15px;" ng-show="orders">
		<div>Total devices: <b>{{ totalDevices }}</b></div>
		<div>Total countries: <b>{{ totalCountries }}</b></div>
		<br/>
		<div>Total sales: <b>{{ salesTotal | currency:"$" }}</b> (SP1 only - does not include shipping or taxes)</div>
		<div>Collected: <b>{{ salesCollected | currency:"$" }}</b></div>
		<div>Outstanding: <b>{{ (salesTotal - salesCollected) | currency:"$" }}</b></div><br/>
	</div>


	<div class="row" ng-show="orders">
		<div class="col-xs-10" >

			<div style="border-bottom:2px solid #aaa;margin-bottom:20px">
			<div ng-repeat="order in orders" style="border-top:2px solid #aaa;color:#000;padding:10px;font-size:13px">
				<div style="float:left;width:200px;">
				<b>{{ order.order.pro_name }}</b><br/>
				{{ order.order.pro_email }}<br/>
				<!--{{ order.order.billing_address }}<br/>
				{{ order.order.billing_address2 }}<br ng-show="order.order.billing_address2 != ''"/>-->
				{{ order.order.billing_city }}, {{ order.order.billing_state }}<br/>
				{{ order.order.billing_country }}
				</div>

				<div style="float:left;width:200px;margin-left:20px;">
				<b>{{ order.order.pro_org }}</b><br/>
				{{ order.order.pro_jobTitle }}<br/>
				<i style="color:#444;">{{ order.order.pro_profession }}</i>
				</div>

				<div style="float:right;text-align:right;">
					<div style="font-size:30px;font-weight:bold;">{{ order.order.quantity }}</div>
					{{ order.order.price | currency:"$" }} ({{ order.order.payInFull ?  "Full" : "Deposit" }})<br/>
					{{ order.created | date:'short' }}
				</div>

				<div style="clear:both;"></div>
			</div>
		</div>


	      <div style="text-algin:left;margin-bottom:20px;">
	      	<i><b>{{ orders.length }}</b> total orders</i>
	      </div>



			<table class="table table-hover" style="display:none">
		        <thead>
		          <tr>
		            <th style="width:40px;"></th>
		            <th>Name</th>
		            <th>Email</th>
		            <th>Created</th>
		          </tr>
		        </thead>
		        <tbody>
		          <tr ng-repeat="user in users | orderBy: '-created'" ng-class="{ disabled: user.disabled, bold: user.admin }">
		            <td style="vertical-align:middle;white-space:nowrap;">
		            	<div class="btn-group" dropdown>
						  <button type="button" class="btn btn-default btn-settings btn-sm dropdown-toggle" data-toggle="dropdown">
						    <i class="fa fa-cog"></i>
						    <i class="fa fa-caret-down"></i>
						  </button>
						  <ul class="dropdown-menu" role="menu">
						    <li><a ng-click="toggleDisabled(user)" href="#"><i class="fa fa-ban"></i> {{ ( user.disabled ? "Enable user" : "Disable user") }}
						    </a></li>
						  </ul>
						</div>
		            </td>
		            <td style="vertical-align:middle;white-space:nowrap;">{{user.fullName}}</td>
		            <td style="vertical-align:middle;white-space:nowrap;">{{user.email}}</td>
		            <td style="vertical-align:middle;white-space:nowrap;">{{user.created | date:'MM/dd/yy&nbsp;&nbsp;hh:mma' }}</td>
		          </tr>
		        </tbody>
		      </table>

	      </div>

      </div>
</div>