
<div class="btn-group grainTypeSelect" uib-dropdown>
  <div uib-dropdown-toggle>
    <span ng-hide="grainType" class="empty">{{ placeholder }}</span>
    <span class="snowsym" style="font-size:21px;position:relative;right:5px;"><span ng-style="grainTypeObject.style">{{ grainTypeObject.symbol }}</span></span>{{ grainTypeObject.desc }}
    <i ng-hide="grainType" class="fa fa-sort sort"></i>
  </div>
  <i ng-show="grainType" class="fa fa-times clear" ng-click="setGrainType(null)"></i>
  <ul class="dropdown-menu" role="menu" style="width:240px;height:auto;" >
    <li ng-show="!selectedCategory" ng-repeat="category in grainTypes"><a ng-click="selectCategory(category); $event.stopPropagation();" style="padding-top:0px;padding-bottom:0px;"><span class="snowsym" style="font-size:19px;position:relative;right:7px;"><span ng-style="type.style">{{ category.symbol }}</span></span> {{ category.desc }}</a></li>
    <li ng-show="selectedCategory" ng-click="selectedCategory = null; $event.stopPropagation();"><a style="font-weight:bold;margin-bottom:-4px;"><i class="fa fa-angle-left"></i>Categories</a></li>
    <li ng-show="selectedCategory" class="divider"></li>
    <li ng-repeat-start="category in grainTypes"></li>
    <li ng-show="selectedCategory == category.code" ng-repeat="type in category.types"><a ng-click="setGrainType(type.icssg)" close-dropdown-on-click style="padding-top:0px;padding-bottom:0px;"><span class="snowsym" style="font-size:19px;position:relative;right:7px;"><span ng-style="type.style">{{ type.symbol }}</span></span> {{ type.desc }}</a></li>
    <li ng-repeat-end></li>
  </ul>
</div>
